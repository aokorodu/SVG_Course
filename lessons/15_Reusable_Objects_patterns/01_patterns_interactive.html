<!DOCTYPE html>
<html lang="en">

<head>
  <title>SVG - SYNTAX</title>
  <script src="../js/custom-slider-component.js"></script>
  <script src="../js/highlight/highlight.min.js"></script>
  <link rel="stylesheet" href="../css/main.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>

<body>
  <div class="title-holder">
    <div class="info-holder">
      <div class="title">Interactive Patterns</div>
      <div class="subtitle">change x, y, width, and height of patterns</div>
    </div>
  </div>
  <div class="content-holder">
    <div class="section-holder">
      <div class="svg-holder">
        <svg width="500" height="500" viewbox="0 0 500 500">
          <defs>
            <!-- object used for the pattern -->
            <g id="target">
              <circle cx="25" cy="25" r="25" fill="none" stroke="black"></circle>
              <circle cx="25" cy="25" r="20" fill="none" stroke="black"></circle>
              <circle cx="25" cy="25" r="15" fill="none" stroke="black"></circle>
              <circle cx="25" cy="25" r="10" fill="black" fill-opacity=".2" stroke="black" ></circle>
            </g>

            <!-- objectBoundingBox patterns -->
            <pattern id="tile_1" x="0" y="0" width="50" height="50" patternUnits="userSpaceOnUse">
              <!-- <use href="#target" x="0" y="0"></use> -->
              <g>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M8.08375 25.6091C7.86709 17.2331 17.5092 10.9626 17.5039 -0.021286H22.4961C22.4888 10.9626 12.9052 18.6419 13.0821 25.4799C13.2601 32.3614 22.5024 39.9866 22.5 49.9787H17.4961C17.5154 39.978 8.29928 33.9417 8.08375 25.6091Z" fill="#000"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M15.2937 25.6091C15.077 17.2331 24.7192 10.9626 24.7138 -0.021286H29.706C29.6987 10.9626 20.1151 18.6419 20.292 25.4799C20.47 32.3614 29.7123 39.9866 29.7099 49.9787H24.706C24.7253 39.978 15.5092 33.9417 15.2937 25.6091Z" fill="#000"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M22.5036 25.6091C22.287 17.2331 31.9291 10.9626 31.9238 -0.021286H36.916C36.9086 10.9626 27.3251 18.6419 27.5019 25.4799C27.6799 32.3614 36.9223 39.9866 36.9199 49.9787H31.916C31.9353 39.978 22.7191 33.9417 22.5036 25.6091Z" fill="#000"/>
                <circle cx="36.9199" cy="24.9787" r="6" fill="black"/>
                <path d="M4.36797e-08 44.9787V49.9787H5L4.36797e-08 44.9787Z" fill="black"/>
                <path d="M5 -0.021286L1.03304e-07 -0.021286L4.36797e-08 4.97871L5 -0.021286Z" fill="black"/>
                <path d="M50 44.9787V49.9787H45L50 44.9787Z" fill="black"/>
                <path d="M45 -0.021286L50 -0.021286L50 4.97871L45 -0.021286Z" fill="black"/>
                </g>
            </pattern>

            <pattern id="tile_2" x="0" y="0" width="50" height="50" patternUnits="userSpaceOnUse">
              <path d="M0, 0 L25,15 L50,0" fill="none" stroke="lightskyblue" stroke-width="2"></path>
              <path d="M0, 50 L25,35 L50,50" fill="none" stroke="lightskyblue" stroke-width="2"></path>
              <path d="M0, 0 15,25 0,50" fill="none" stroke="lightskyblue" stroke-width="2"></path>
              <path d="M50, 0 35,25 50,50" fill="none" stroke="lightskyblue" stroke-width="2"></path>
              <rect x="20" y="20" width="10" height="10" transform="rotate(45, 25, 25)" fill="salmon" fill-opacity=".6"></rect>
            </pattern>

            <pattern id="tile_3" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
              <g>
                <path d="M50 35V50H35L50 35Z" fill="black"/>
                <path d="M35 1.31039e-07L50 -5.24632e-07L50 15L35 1.31039e-07Z" fill="black"/>
                <path d="M1.31039e-07 35V50H15L1.31039e-07 35Z" fill="black"/>
                <path d="M15 1.31039e-07L7.8671e-07 -5.24632e-07L1.31039e-07 15L15 1.31039e-07Z" fill="black"/>
                <rect x="25" y="9.44366" width="22" height="22" transform="rotate(45 25 9.44366)" stroke="black" stroke-width="8" fill="red"/>
                </g>
            </pattern>

            <pattern id="tile_4" x="0" y="0" width="50" height="50" patternUnits="userSpaceOnUse">
              <path d="M11.1924 33.0719L25 26.6946L38.8076 33.0719L25 39.4492L11.1924 33.0719Z" fill="lavender"
                stroke="black" />
              <path d="M39.8014 17.0565L25 10L10.291 17.3413" stroke="black" fill="none" />
              <line x1="25" y1="10" x2="25" y2="26.9258" stroke="black" fill="none" />
              <line x1="10.5" y1="16.9281" x2="10.5" y2="33.0719" stroke="black" />
              <line x1="39.5029" y1="16.5806" x2="39.5029" y2="33.0719" stroke="black" fill="none" />

            </pattern>

          </defs>
          <rect id="filled_rectangle" x="0" y="0" width="499" height="499" fill="url(#tile_1)">
          </rect>
        </svg>
      </div>
      <div id="info_text" class="info"></div>
    </div>

    <div class="section-holder">
      <div class="slidecontainer">
        <custom-slider id="pattern_x" minimum="0" maximum="500" val="0" label="pattern x" step=5>
        </custom-slider>
        <custom-slider id="pattern_y" minimum="0" maximum="500" val="0" label="pattern y" step=5>
        </custom-slider>
        <custom-slider id="pattern_width" minimum="0" maximum="500" val="50" label="pattern width" step=5>
        </custom-slider>
        <custom-slider id="pattern_height" minimum="0" maximum="500" val="50" label="pattern height" step=5>
        </custom-slider>

        <div class="radio-container">
          <div class="radio-label">pattern</div>
          <div class="radio-group-container">
            <label class="radio-button-container">tile 1
              <input type="radio" checked="checked" value="tile_1" name="pattern_select">
              <span class="checkmark"></span>
            </label>
            <label class="radio-button-container">tile 2
              <input type="radio" name="pattern_select" value="tile_2">
              <span class="checkmark"></span>
            </label>
            <label class="radio-button-container">tile 3
              <input type="radio" name="pattern_select" value="tile_3">
              <span class="checkmark"></span>
            </label>
            <label class="radio-button-container">tile 4
              <input type="radio" name="pattern_select" value="tile_4">
              <span class="checkmark"></span>
            </label>
          </div>
        </div>
      </div>

      <div class="description">
        <p>Use the sliders to change pattern x, y, width or height. Choose from four different tile patterns.
        </p>

      </div>

    </div>


  </div>
</body>
<script>
  const tile_1 = document.querySelector("#tile_1");
  const tile_2 = document.querySelector("#tile_2");
  const tile_3 = document.querySelector("#tile_3");
  const tile_4 = document.querySelector("#tile_4");
  const filled_rectangle = document.querySelector("#filled_rectangle")

  let selectedTile = tile_1;

  const pattern_x = document.querySelector("#pattern_x");
  pattern_x.addEventListener("value", xHandler)

  const pattern_y = document.querySelector("#pattern_y");
  pattern_y.addEventListener("value", yHandler);

  const pattern_width = document.querySelector("#pattern_width");
  pattern_width.addEventListener("value", widthHandler)

  const pattern_height = document.querySelector("#pattern_height");
  pattern_height.addEventListener("value", heightHandler);



  const patternSelectRadios = document.querySelectorAll('input[type=radio][name="pattern_select"]');
  for (const radio of patternSelectRadios) {
    radio.addEventListener('change', () => {
      const val = radio.value;
      console.log('selected pattern:', radio.value);
      filled_rectangle.setAttribute("fill", `url(#${radio.value})`)

      switch (val) {
        case "tile_1":
          selectedTile = tile_1;
          break;

        case "tile_2":
          selectedTile = tile_2;
          break;

        case "tile_3":
          selectedTile = tile_3;
          break;

        case "tile_4":
          selectedTile = tile_4;
          break;
      }
      console.log('pattern_width:', pattern_width.value);
      selectedTile.setAttribute("width", pattern_width.value);
      selectedTile.setAttribute("height", pattern_height.value);
    })
  }

  function xHandler(e) {
    const newVal = e.detail.value;
    console.log('new pattern x: ', newVal);
    selectedTile.setAttribute("x", newVal)
  }

  function yHandler(e) {
    const newVal = e.detail.value;
    console.log('new pattern y: ', newVal);
    selectedTile.setAttribute("y", newVal)
  }

  function widthHandler(e) {
    const newVal = e.detail.value;
    console.log('new pattern width: ', newVal);
    selectedTile.setAttribute("width", newVal)
  }

  function heightHandler(e) {
    const newVal = e.detail.value;
    console.log('new pattern height: ', newVal);
    selectedTile.setAttribute("height", newVal)
  }

</script>

</html>